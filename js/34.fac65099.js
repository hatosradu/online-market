"use strict";(self["webpackChunke_store"]=self["webpackChunke_store"]||[]).push([[34],{3237:function(t,e,s){s.d(e,{Z:function(){return n}});var i=s(5648),r=s(4981),o=s(6505),a=s(3325),n=(0,a.Z)(r.Z,o.Z,i.Z).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...o.Z.options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...i.Z.options.computed.classes.call(this)}},styles(){const t={...i.Z.options.computed.styles.call(this)};return this.img&&(t.background=`url("${this.img}") center center / cover no-repeat`),t}},methods:{genProgress(){const t=r.Z.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render(t){const{tag:e,data:s}=this.generateRouteLink();return s.style=this.styles,this.isClickable&&(s.attrs=s.attrs||{},s.attrs.tabindex=0),t(e,this.setBackgroundColor(this.color,s),[this.genProgress(),this.$slots.default])}})},6816:function(t,e,s){s.d(e,{Z:function(){return r}});var i=s(3385),r=i.Z.extend().extend({name:"v-list",provide(){return{isInList:!0,list:this}},inject:{isInMenu:{default:!1},isInNav:{default:!1}},props:{dense:Boolean,disabled:Boolean,expand:Boolean,flat:Boolean,nav:Boolean,rounded:Boolean,subheader:Boolean,threeLine:Boolean,twoLine:Boolean},data:()=>({groups:[]}),computed:{classes(){return{...i.Z.options.computed.classes.call(this),"v-list--dense":this.dense,"v-list--disabled":this.disabled,"v-list--flat":this.flat,"v-list--nav":this.nav,"v-list--rounded":this.rounded,"v-list--subheader":this.subheader,"v-list--two-line":this.twoLine,"v-list--three-line":this.threeLine}}},methods:{register(t){this.groups.push(t)},unregister(t){const e=this.groups.findIndex((e=>e._uid===t._uid));e>-1&&this.groups.splice(e,1)},listClick(t){if(!this.expand)for(const e of this.groups)e.toggle(t)}},render(t){const e={staticClass:"v-list",class:this.classes,style:this.styles,attrs:{role:this.isInNav||this.isInMenu?void 0:"list",...this.attrs$}};return t(this.tag,this.setBackgroundColor(this.color,e),[this.$slots.default])}})},7620:function(t,e,s){s.d(e,{Z:function(){return v}});var i=s(6952),r=s(6505),o=s(7352),a=s(8085),n=s(2936),l=s(6286),d=s(4589),c=s(1824),u=s(3325);const h=(0,u.Z)(i.Z,r.Z,a.Z,(0,o.d)("listItemGroup"),(0,n.d)("inputValue"));var v=h.extend().extend({name:"v-list-item",directives:{Ripple:l.Z},inject:{isInGroup:{default:!1},isInList:{default:!1},isInMenu:{default:!1},isInNav:{default:!1}},inheritAttrs:!1,props:{activeClass:{type:String,default(){return this.listItemGroup?this.listItemGroup.activeClass:""}},dense:Boolean,inactive:Boolean,link:Boolean,selectable:{type:Boolean},tag:{type:String,default:"div"},threeLine:Boolean,twoLine:Boolean,value:null},data:()=>({proxyClass:"v-list-item--active"}),computed:{classes(){return{"v-list-item":!0,...r.Z.options.computed.classes.call(this),"v-list-item--dense":this.dense,"v-list-item--disabled":this.disabled,"v-list-item--link":this.isClickable&&!this.inactive,"v-list-item--selectable":this.selectable,"v-list-item--three-line":this.threeLine,"v-list-item--two-line":this.twoLine,...this.themeClasses}},isClickable(){return Boolean(r.Z.options.computed.isClickable.call(this)||this.listItemGroup)}},created(){this.$attrs.hasOwnProperty("avatar")&&(0,c.Jk)("avatar",this)},methods:{click(t){t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle()},genAttrs(){const t={"aria-disabled":!!this.disabled||void 0,tabindex:this.isClickable&&!this.disabled?0:-1,...this.$attrs};return this.$attrs.hasOwnProperty("role")||this.isInNav||(this.isInGroup?(t.role="option",t["aria-selected"]=String(this.isActive)):this.isInMenu?(t.role=this.isClickable?"menuitem":void 0,t.id=t.id||`list-item-${this._uid}`):this.isInList&&(t.role="listitem")),t},toggle(){this.to&&void 0===this.inputValue&&(this.isActive=!this.isActive),this.$emit("change")}},render(t){let{tag:e,data:s}=this.generateRouteLink();s.attrs={...s.attrs,...this.genAttrs()},s[this.to?"nativeOn":"on"]={...s[this.to?"nativeOn":"on"],keydown:t=>{t.keyCode===d.Do.enter&&this.click(t),this.$emit("keydown",t)}},this.inactive&&(e="div"),this.inactive&&this.to&&(s.on=s.nativeOn,delete s.nativeOn);const i=this.$scopedSlots.default?this.$scopedSlots.default({active:this.isActive,toggle:this.toggle}):this.$slots.default;return t(e,this.isActive?this.setTextColor(this.color,s):s,i)}})},4034:function(t,e,s){s.r(e),s.d(e,{default:function(){return I}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fuild:""}},[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"12",md:"7",sm:"12"}},[s("v-list",[t._l(t.products,(function(e){return[s("v-list-item",[s("v-card",{staticClass:"flex-grow-1"},[s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-img",{staticClass:"cartImage",attrs:{src:e.presentationImage}})],1),s("v-col",{staticClass:"d-flex flex-column",attrs:{cols:"8"}},[s("div",{attrs:{cols:"12"}},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"flex-grow-1",attrs:{cols:"12"}},[s("v-text-field",{staticStyle:{"font-size":"2em",margin:"auto"},attrs:{"prepend-icon":"mdi-minus",type:"number","append-outer-icon":"mdi-plus","single-line":""},on:{input:function(e){return t.onProductInputChanged()},"click:append-outer":function(s){return t.updateQuantity(e.id,1)},"click:prepend":function(s){return t.updateQuantity(e.id,-1)}},model:{value:e.orderedQuantity,callback:function(s){t.$set(e,"orderedQuantity",s)},expression:"item.orderedQuantity"}})],1)]),s("v-col",{attrs:{cols:"12"}},[s("v-divider")],1),s("v-col",{staticClass:"d-flex flex-row",staticStyle:{"padding-top":"0px"},attrs:{cols:"12"}},[s("v-btn",{attrs:{icon:"",large:"",color:"red"},on:{click:function(s){return t.onRemoveProduct(e.id,e.name)}}},[s("v-icon",[t._v("mdi-delete")])],1),s("v-spacer"),s("div",{staticClass:"card-product-price"},[t._v(" "+t._s(Math.round(e.orderedQuantity*e.price*100)/100)+" $")])],1)],1)],1)],1)]}))],2)],1),s("v-col",{staticClass:"col-1"}),s("v-col",{staticClass:"d-flex flex-column",attrs:{cols:"12",md:"4",sm:"12"}},[s("h3",{staticClass:"py-2"},[t._v("Order")]),s("v-row",{staticClass:"align-content-start",attrs:{"no-gutters":""}},[s("v-col",{attrs:{cols:"6"}},[t._v("Total")]),s("v-col",{attrs:{cols:"6"}},[t._v(t._s(t.totalPrice)+" $")]),s("v-col",{attrs:{cols:"6"}},[t._v("Transport")]),s("v-col",{attrs:{cols:"6"}},[s("span",[t._v("FREE")]),s("v-icon",[t._v("mdi-truck")])],1),s("v-col",{staticClass:"pt-4",attrs:{cols:"12"}},[s("v-btn",{attrs:{tile:"",color:"success",block:"",loading:t.loading,disabled:t.loading},on:{click:function(e){return t.onFinishOrder()}}},[t._v(" Finish Order ")])],1)],1)],1)],1)],1)},r=[],o=s(6539),a=s(5873),n={name:"CartView",data:()=>({products:[],totalPrice:0,loading:!1}),created(){this.getProducts()},methods:{getProducts(){this.products=a.y.getCart(),this.updateTotalPrice()},updateQuantity(t,e){let s=Number(e);for(let i of this.products)i.id===t&&(i.orderedQuantity+=s);a.y.setCart(this.products),this.updateTotalPrice()},updateTotalPrice(){let t=0;for(let e of this.products)t+=e.price*e.orderedQuantity;this.totalPrice=Math.round(100*t)/100},onProductInputChanged(){for(let t of this.products)t.orderedQuantity=Number(t.orderedQuantity);this.updateTotalPrice(),a.y.setCart(this.products)},onRemoveProduct(t,e){confirm(`Are you sure you want to remove ${e} from your cart list?`)&&(a.y.removeProductFromCart(t),this.getProducts())},async onFinishOrder(){this.loading=!0,await this.validateOrder()&&(Array.prototype.forEach.call(this.products,(async t=>{await o._.updateProductQuantityOnStock(t.id,t.orderedQuantity),a.y.removeProductFromCart(t.id),this.getProducts()})),this.redirect()),this.loading=!1},async validateOrder(){for(let t of this.products){let e=await o._.getProduct(t.id);if(e.quantityOnStock<t.orderedQuantity)return!1}return!0},redirect(){this.$emit("showSnackbarMessage","info"," Order placed. Redirecting to main page."),setTimeout((()=>{this.$router.push("/"),this.$emit("updateCartCount")}),3e3)}}},l=n,d=s(1001),c=s(3453),u=s.n(c),h=s(680),v=s(3237),p=s(2102),m=s(9846),g=s(1418),f=s(6428),y=s(7047),C=s(6816),b=s(7620),k=s(2877),Z=s(9762),w=s(5978),x=(0,d.Z)(l,i,r,!1,null,"0a1eb5dd",null),I=x.exports;u()(x,{VBtn:h.Z,VCard:v.Z,VCol:p.Z,VContainer:m.Z,VDivider:g.Z,VIcon:f.Z,VImg:y.Z,VList:C.Z,VListItem:b.Z,VRow:k.Z,VSpacer:Z.Z,VTextField:w.Z})}}]);
//# sourceMappingURL=34.fac65099.js.map